INSERT INTO auth.users (instance_id, id, aud, role, email, encrypted_password, email_confirmed_at, invited_at, confirmation_token, confirmation_sent_at, recovery_token, recovery_sent_at, email_change_token_new, email_change, email_change_sent_at, last_sign_in_at, raw_app_meta_data, raw_user_meta_data, is_super_admin, created_at, updated_at, phone, phone_confirmed_at, phone_change, phone_change_token, phone_change_sent_at, email_change_token_current, email_change_confirm_status, banned_until, reauthentication_token, reauthentication_sent_at, is_sso_user) VALUES
('00000000-0000-0000-0000-000000000000', 'e9fc7e46-a8a5-4fd4-8ba7-af485013e6fa', 'authenticated', 'authenticated', 'test@test.com', crypt('password', gen_salt('bf')), '2023-02-18 23:31:13.017218+00', NULL, '', '2023-02-18 23:31:12.757017+00', '', NULL, '', '', NULL, '2023-02-18 23:31:13.01781+00', '{"provider": "email", "providers": ["email"]}', '{}', NULL, '2023-02-18 23:31:12.752281+00', '2023-02-18 23:31:13.019418+00', NULL, NULL, '', '', NULL, '', 0, NULL, '', NULL, 'f');

INSERT INTO models (id, user_id, folder_id, created_at, updated_at, sharing, api_key, base_url, description, model_id, name) VALUES (
    'f0d3a6bb-399a-49b2-90b2-bb73b4f65e30', 'e9fc7e46-a8a5-4fd4-8ba7-af485013e6fa',  NULL, CURRENT_TIMESTAMP, NULL, 'public', '123123123',
    'http://localhost:8001/v1', 'ETO knows', 'stelterlab/Mistral-Small-24B-Instruct-2501-AWQ', 'ETO Knows');

-- Start data for assistants 
INSERT INTO assistants (id, user_id, name, description, model, image_path, sharing, context_length, include_profile_context, include_workspace_instructions, prompt, temperature, embeddings_provider) VALUES 
('033a96f5-deb8-45f0-81d8-b6ed76a94cee','e9fc7e46-a8a5-4fd4-8ba7-af485013e6fa', 'internet search', 'assistant that has access to the internet', 'stelterlab/Mistral-Small-24B-Instruct-2501-AWQ', '', 'public', 8000, TRUE, TRUE, 'You are a chatbot that answers questions based on internet search results. Use the provided summarized search results and do not cite the URLs in the response. If the search results are irrelevant to the question, state that explicitly and either provide an answer based on your internal knowledge or respond with ''I don''t know.'' If the query is ambiguous or unclear, ask clarifying questions before proceeding. Ensure your tone is professional and concise unless otherwise specified by the user. Answer in the language the user instruction is. If the search result is an error, write that this feature is currently unavailable due to an error.', 0.5, 'openai');


-- Start data for tools
INSERT INTO tools (id,user_id, description, name, schema, url, created_at, updated_at, sharing) VALUES
('82f0d203-70a2-4c13-9643-6430c127d576','e9fc7e46-a8a5-4fd4-8ba7-af485013e6fa', 'this tool is able to search for online results', 'internet search', '"{\n  \"openapi\": \"3.0.0\",\n  \"info\": {\n    \"title\": \"Internet Search API\",\n    \"version\": \"1.0.0\",\n    \"description\": \"API to search the internet for information.\"\n  },\n  \"servers\": [\n    {\n      \"url\": \"http://localhost:5000\"\n    }\n  ],\n  \"paths\": {\n    \"/search\": {\n      \"get\": {\n        \"summary\": \"Search the internet for information. This can be used to answer questions that are not in the knowledge base.\",\n        \"operationId\": \"DoingInternetSearch\",\n        \"parameters\": [\n          {\n            \"name\": \"query\",\n            \"in\": \"query\",\n            \"required\": true,\n            \"schema\": {\n              \"type\": \"string\"\n            },\n            \"description\": \"The search query that is used to browse the internet. Create a query that is clear and concise to get the best results.\",\n            \"example\": \"What is the capital of France?\"\n          },\n          {\n            \"name\": \"news\",\n            \"in\": \"query\",\n            \"required\": false,\n            \"schema\": {\n              \"type\": \"boolean\"\n            },\n            \"description\": \"Whether to search for news articles. Only use this if the user clearly reference to a actual topic that could have a related news article. If this is not set, the search will be for general information.\",\n            \"example\": false\n          },\n          {\n            \"name\": \"days\",\n            \"in\": \"query\",\n            \"required\": false,\n            \"schema\": {\n              \"type\": \"integer\"\n            },\n            \"description\": \"The number of days to search back. This is only used when searching for news articles. If the user not specify when the event exactly happend, use a large value(like 90) to be sure the event is covered\",\n            \"example\": 30\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Successful search\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"used_urls\": {\n                      \"type\": \"array\",\n                      \"items\": {\n                        \"type\": \"string\"\n                      },\n                      \"description\": \"List of URLs used in the search results.\"\n                    },\n                    \"answer\": {\n                      \"type\": \"string\",\n                      \"description\": \"The search result answer. This is the summary of the search results request and is based on the search query.\"\n                    }\n                  }\n                }\n              }\n            }\n          },\n          \"500\": {\n            \"description\": \"Internal server error\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"message\": {\n                      \"type\": \"string\",\n                      \"description\": \"Error message.\",\n                      \"example\": \"could not fetch internet results\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"', '', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'public');

INSERT INTO assistant_tools (assistant_id, tool_id, user_id) VALUES
('033a96f5-deb8-45f0-81d8-b6ed76a94cee', '82f0d203-70a2-4c13-9643-6430c127d576', 'e9fc7e46-a8a5-4fd4-8ba7-af485013e6fa');